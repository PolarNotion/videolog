!function(e){e.fn.videoLog=function(o){e.extend({},o);var t,n=[];return this.each(function(){function o(o){function a(t){e("#"+o)}function r(e){console.log("Youtube video "+o+e+s.getCurrentTime())}function u(e){-1==e?console.log("Not yet started"):0==e?r(" has ended at "):1==e?t=setInterval(function(){console.log("Youtube video "+o+" is playing at "+s.getCurrentTime())},1e3):2==e?console.log("Youtube video "+o+" has been paused at "+s.getCurrentTime()):3==e?console.log("Youtube video "+o+" is buffering at "+s.getCurrentTime()):5==e&&console.log("Youtube video "+o+" was cued at "+s.getCurrentTime()),1!=e&&clearInterval(t)}function c(e){u(e.data)}var s,o=n[i].id;s=new YT.Player(o,{events:{onReady:a,onStateChange:c}})}var a=e(this);if(a.is("iframe"))if(a.attr("src").indexOf("vimeo")>-1){var r=this.id,u=new Vimeo.Player(r);u.on("pause",function(){u.getCurrentTime().then(function(e){console.log("Vimeo video "+r+" paused at: "+e)}).catch(function(e){console.log("There was an error")})}),u.on("play",function(){u.on("timeupdate",function(){u.getCurrentTime().then(function(e){console.log("Vimeo video "+r+" played at: "+e)}).catch(function(e){console.log("There was an error")})})})}else if(a.attr("src").indexOf("youtube")>-1){n.push(this);var c=this;window.onYouTubeIframeAPIReady=function(){for(i=0;i<n.length;i++)o(c.id)}}if(a.is("video")){r=this.id;a.on("play",function(){a.on("timeupdate",function(){console.log("HTML5 Video "+r+" played at: "+this.currentTime)})}),a.on("pause",function(){console.log("HTML5 Video "+r+" paused at: "+this.currentTime)})}var s=document.createElement("script");s.id="iframe-api",s.src="https://www.youtube.com/iframe_api";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(s,l)})}}(jQuery);